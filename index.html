<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Veritas Product Page Creator</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
    }
    #preview {
      margin-top: 20px;
      max-width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
      <div style="
        box-shadow: 8px 8px 5px rgba(0,0,0,0.3);
        padding: 1px;
        width: 300px;
        background: #e0e0e0;
        border-radius: 8px;
        text-align: center;
        align-self: center;
        margin: 0 auto;
      ">
        <h1>Product Builder</h1> 
        
      </div>
      <br><br>
    <div style = "box-shadow: 8px 8px 4px rgba(0,0,0,0.3);
        padding: 10px;
        width: 500px;
        background: #e0e0e0;
        border-radius: 4px;
        text-align: center;
        align-self: center;
        margin: 0 auto;">
      
      <h3>Image:* <input type="file" id="imageInput" accept="image/*"></h3>
      <br>
      <h3>Product Name:* <input type="text" id="productName" name="productName" placeholder="Enter product name"></h3>
      <br>
      <h3>Product Category:* <input type="range" id="category" name="category" min="0" max="9"></h3>
      <p id="categoryTxt">Choose a category with slider</p>
      <br>
      <h3>Product Summary:* <input type="text" id="productSum" name="productSum" placeholder="Enter 1 sentence summary of the product"></h3>
      <button id="submitBtn" style=
        "background-color: rgb(142, 142, 227); 
        color: white; 
        font-size: 18px; 
        padding: 5px 100px;
        border-radius: 4px;"
        >
        Submit Info</button>
      <br><br>
    </div>
    <br>
    <div style="text-align: center;">
      <img id="productImg"/>
    </div>
    
  

  <script>
    //Get image input and product name input
    const inputImg = document.getElementById('imageInput');
    const inputName = document.getElementById('productName');
    inputImg.addEventListener('change', function () {
      const file = this.files[0];
      if (file && file.type.startsWith('image/')) {
        const reader = new FileReader();
        reader.onload = function (e) {
          preview.src = e.target.result;
        }
        reader.readAsDataURL(file);
      } else {
        preview.src = '';
        alert('Please upload a valid image file.');
      }
    });

    //Category slider parts
    const category = document.getElementById('category');
    const categoryTxt = document.getElementById('categoryTxt');
    category.addEventListener('input', function () {
      const value = this.value;
      let categories = [
        'Electronics', 'Clothing', 'Home & Kitchen', 'Books', 
        'Toys & Games', 'Sports & Outdoors', 'Health & Personal Care', 
        'Beauty & Grooming', 'Automotive', 'Grocery'
      ];
      categoryTxt.textContent = categories[value];
    });

    //Product summary
    const productSum = document.getElementById('productSum');

    //Submit button
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.addEventListener('click', function () {
      const name = inputName.value.trim();
      const summary = productSum.value.trim();
      const categoryValue = category.value;
      
      if (!name || !summary) {
        alert('Please fill in all fields.');
        return;
      }

      localStorage.setItem('productName', name);
      localStorage.setItem('productCategory', categoryValue);
      localStorage.setItem('productSummary', summary);
      localStorage.setItem('productImage', preview.src);

      alert(`Product Name: ${name}\nCategory: ${categoryTxt.textContent}\nSummary: ${summary}`);
      window.location.href = 'product.html';
    });

    //Image preview
    const preview = document.getElementById('productImg');
  </script>
</body>
</html>
